<nav class="navbar sticky-top navbar-expand-md navbar-light">
  <div class="navbar-collapse collapse" id="collapsingNavbar">
    <ul class="navbar-nav">
      <li class="nav-item" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">
        <a class="nav-link" routerLink="">Net-Project</a>
      </li>
      <ng-template *ngIf="currentUser">
        <li *ngIf="currentUser.role === 'USER'" class="nav-item" routerLinkActive="active">
          <a class="nav-link" routerLink="wallet">Wallet</a>
        </li>
        <li *ngIf="currentUser.role === 'USER'" class="nav-item" routerLinkActive="active">
          <a class="nav-link" routerLink="subscriptions">Subscriptions</a>
        </li>
        <li *ngIf="currentUser.role === 'ADMIN'" class="nav-item">
          <a class="nav-link" routerLink="users">Users</a>
        </li>
        <li *ngIf="currentUser.role === 'ADMIN'">
          <a class="btn btn-info btn-nav post" href="new_post.html">New Post</a>
        </li>
      </ng-template>
    </ul>
    <ul class="navbar-nav ml-auto">
      <li *ngIf="currentUser">
        <a id="nick" class="nav-link">{{ currentUser.login }}</a>
      </li>
      <li *ngIf="currentUser">
        <a id="btn-nav" class="btn btn-info" (click)="currentUser = null">Sign Out</a>
      </li>
      <li *ngIf="!currentUser">
        <a id="btn-nav" class="btn btn-info" (click)="_openModal(template)">Log In</a>
      </li>
    </ul>
  </div>
</nav>
<ng-template #template>
  <div class="modal-header">
          <h1 class="modal-title">Net-Project</h1>
      </div>
        <div class="modal-body">
        <div class="form-group">
          <input type="text" class="form-control" name="login" placeholder="username or email" [(ngModel)]="logUser.login">
        </div>
          <div class="form-group">
          <input type="password" class="form-control" name="password" placeholder="password" [(ngModel)]="logUser.password">
        </div>
          <input type="button" value="Log In" (click)="_findAccount()">
          <div class="social">
            <a href="#"><span class="fa fa-facebook"></span></a>
            <a href="#"><span class="fa fa-twitter"></span></a>
            <a href="#"><span class="fa fa-github-alt"></span></a>
            <a href="#"><span class="fa fa-google-plus"></span></a>
            <a href="#"><span class="fa fa-linkedin"></span></a>
          </div>
        </div>
        <div class="modal-footer">
          <div class="links">
            <a class="left"(click)="_closeModal(); _openModal(signup)">Register</a>
            <a class="center" (click)="_closeModal()">Go to Site</a>
            <a (click)="_closeModal(); _openModal(forgot)">Forgot password</a>
          </div>
        </div>
</ng-template>

<ng-template #signup>
  <ngx-spinner bdColor="rgba(51, 51, 51, 0.8)"
               size = "medium" color="fff"
               type="ball-newton-cradle"></ngx-spinner>
  <div class="modal-header">
    <h1 class="modal-title">Net-Project</h1>
  </div>
  <div class="modal-body">
    <div class="form-group">
      <input type="text" class="form-control" name="login" placeholder="username" [(ngModel)]="newUser.login"/>
    </div>
    <div class="form-group">
      <input type="text" class="form-control" name="email" placeholder="email" [(ngModel)]="newUser.email"/>
    </div>
    <div class="form-group">
      <input type="password" class="form-control" name="password" placeholder="password" [(ngModel)]="newUser.password"/>
    </div>
    <input type="button" value="Sign Up" (click)="_addUser()">
    <div class="social">
      <a href="#"><span class="fa fa-facebook"></span></a>
      <a href="#"><span class="fa fa-twitter"></span></a>
      <a href="#"><span class="fa fa-github-alt"></span></a>
      <a href="#"><span class="fa fa-google-plus"></span></a>
      <a href="#"><span class="fa fa-linkedin"></span></a>
    </div>
  </div>
  <div class="modal-footer">
    <div class="links">
      <a class="left"(click)="_closeModal(); _openModal(template)">Back</a>
      <a class="center" (click)="_closeModal()">Go to Site</a>
      <a (click)="_closeModal(); _openModal(forgot)">Forgot password</a>
    </div>
  </div>
</ng-template>

<ng-template #forgot>
  <div class="modal-header">
    <h1 class="modal-title">Net-Project</h1>
  </div>
  <div class="modal-body">
    <div class="form-group">
      <input type="text" class="form-control" name="email" placeholder="email">
    </div>
    <input type="button" value="Sent pass" (click)="_closeModal()">
  </div>
  <div class="modal-footer">
    <div class="links">
      <a class="left" (click)="_closeModal()">Go to Site</a>
    </div>
  </div>
</ng-template>
